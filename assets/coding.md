<!-- Coding -->

# 编程

- 负载均衡

- Restful API设计

- MVC框架

- 常用设计模式
  - 多机房模式：解决高可用、高性能的一种方法
  - 分库分表模式：解决单机数据库瓶颈
  - 多级缓存模式
  - 其它：分容分发、查询分离、单库单应用、微服务模式

- 常见编程语言及应用环境
  1. C：操作系统、嵌入式、驱动开发；
  2. C++：图形图像、科研、通信、桌面软件、游戏、游戏服务器；
  3. C#：Windows桌面软件、.NET Web、服务器
  4. Java： Java SE：跨平台的桌面应用，Android；Java EE：企业级应用，web开发、服务器后端；Java ME：手机应用、流行于非智能机时代；Java Android：用于安卓开发应用
  5. GO：高性能服务器应用，比较年轻
  6. Erlang：高并发服务器应用，多用于游戏
  7. Python：Web、科学计算、运维、自动化运维、人工智能领域、网路爬虫、科学计算
  8. Ruby：web
  9. HTML/CSS：标记语言，主要是给前端工程师构建页面使用

- 汇编语言：
  - 汇编语言（Assembly Language）是任何一种用于电子计算机、微处理器、微控制器或其他可编程器件的低级语言，亦称为符号语言。
  - 在汇编语言中，用助记符代替机器指令的操作码，用地址符号或标号代替指令或操作数的地址。
  - 在不同的设备中，汇编语言对应着不同的机器语言指令集，通过汇编过程转换成机器指令。
  - 特定的汇编语言和特定的机器语言指令集是一一对应的，不同平台之间不可直接移植。

# Golang

- 需要掌握的知识点
  - 内存分配、垃圾回收、逃逸分析（内存泄漏）
  - 原子操作、并发控制、线程安全、锁
  - 并发模型GMP、协程调度
  - 各种内置数据类型及特点 rune\map\uint、空struct{}、数组和切片
  - 传值传指针（引用传递和值传递）
  - 关键字：defer\new\make\tag、Select

- 语言特点
  - 静态类型的编译型语言
  - 简洁、清晰而高效，具有很强的表达能力
  - 编译迅速，方便的垃圾回收机制，强大的运行时反射机制
  - 新颖的类型系统（使程序结构变得灵活，模块化）
  - 是编程语言的后生，吸收了其它一些编程语言的特点，站在巨人的肩膀上

- 需要了解的
  - 闭包、匿名函数
  - 标准库：context
  - 触发异常（panic）的场景

- 功能实现
  - 后端开发
  - 脚本书写，数据处理
  - 定时器

- 网络链链
  - [语言特点](http://c.biancheng.net/view/3990.html)
  - [详解链接](https://juejin.cn/post/6844903808753991694)
  - [标准库](https://studygolang.com/pkgdoc)
  - [值类型、引用类型](https://www.jb51.net/article/182727.htm)
  - [空struct{}的用途](https://blog.csdn.net/weixin_44328662/article/details/86501900)

# 数据库

- 重要概念：
  - 事务、事务隔离级别
  - 索引：主键索引和唯一索引
  - Mysql B+树
  - 两种引擎：MyISAM、InnoDB
  - 数据库设计三范式
  - SQL优化策略：<https://www.51cto.com/article/623584.html>
  - SQL注入问题
  - 多版本并发控制
  - 聚簇索引、非聚簇索引

- 数据库设计及优化
  - 优秀的数据库设计，可以减少数据冗余、避免数据维护异常、节约空间、高效访问。
  - 步骤：
  - 需求分析：分析数据属性和特点
  - 逻辑设计：使用ER图【实体-联系图(Entity Relationship Diagram)】对数据库进行逻辑建模
  - 物理设计：根据数据库自身的特点 将逻辑设计转化为物理设计
  - 维护优化：新的需求进行建表、索引优化、大表拆分
  - 详细：<https://www.jianshu.com/p/23a36a453b56>

- 数据库查询整体优化思路（随着程序的使用和业务的拓展，导致数据量越来越大，数据库处理压力增大、吞吐量出现瓶颈）
  - 表字段在设计阶段，通过需求分析及逻辑设计阶段，使用ER图【实体-联系图(Entity Relationship Diagram)】对数据库进行逻辑建模，并根据数据库自身的特点，将逻辑设计转化为物理设计，采用更优的表、字段的存储方案；
  - 采用数据库自身提供的优化方案，如创建更适合业务需求的索引；
  - 查询缓存、热点、稳定数据缓存；
  - 横向扩展、主从复制、读写分离等方式，实现高性能和高可用；
  - 查询逻辑及语句优化，根据查询日志，定位查询效率较低的SQL，针对性做优化；
  - EXPLAIN命令是查看优化器如何决定执行查询的主要方法，我们可一利用这个来优化我们的sql和添加索引。
  - 链接：<https://blog.csdn.net/qq_36622496/article/details/90638765>

# 缓存

1. `Redis` 基本概念；
2. `Redis` 基本数据结构与常用指令；
3. `Redis` ；
4. `Redis` 八种淘汰策略与三种删除策略；
5. `Redis` 三种持久化机制；
6. `Redis` 事务机制；
7. `Redis` 内存模型及内存划分；
8. `Redis` 虚拟内存；
9. `Redis` 客户端通信RESP协议；
10. `Redis` 高可用机制：主从复制、哨兵、代理式/分片式集群；

> `Redis` 面试宝典：<https://baijiahao.baidu.com/s>
> 数据结构和命令：<https://blog.csdn.net/m0_64830623/article/details/123145942>
> `Redis` 五大数据类型及使用场景：<https://baijiahao.baidu.com/s?id=1682379171066196544&wfr=spider&for=pc>
> `Redis` 核心底层协议-RESP：<https://baijiahao.baidu.com/s?id=1669496265525774478&wfr=spider&for=pc>
> 网址：<<https://xiaolincoding.com/> `redis` />

- 缓存
  1. 提高系统的性能，尽量减少IO的操作，特别是磁盘IO的操作；
  2. 使用缓存技术来提高系统的性能，并且降低数据库的负载。缓存就是通过在本地磁盘内保存的资源副本，减少对源服务器的访问，节省通信流量和通信时间，提高系响应速度和用户体验；

- 缓存与DB数据一致性问题

分布式架构下的高可用设计要点

1. 避免单点故障

- 负载均衡技术（failover、选址、硬件负载、软件负载、去中心化负载（gossip（ `redis` -cluster））
- 热备Linux HA
- 多机房（同城灾备，异地灾备）

2. 应用高可用

- 故障监控（系统监控（CPU、内存）、链路监控、日志监控）自动预警
- 应用的容错设计（服务降级，限流）自我保护能力
- 数据量（数据分片，读写分离）

3. 分布式架构下的可伸缩设计

其它

- 垂直伸缩，提升硬件能力
- 水平伸缩，增加服务节点（服务器）
- 加速静态内容（图片，脚本，静态页面等）访问速度的CDN（Content Delivery Network，内容分发网络）

# 项目开发

- 基础
  - 数据：MySQL、SQL、 `Redis`
  - 环境：Linux、Windows、Vscode
  - 测试：功能测试、性能测试、安全测试、严谨性
  - 部署维护：`Nginx`
  - 开发规范：项目规范、编码规范、测试规范。（软件工程）
  - 系统问题排查：CPU、内存、网络、数据库瓶颈
  - 超卖问题解决思路
  - 实现分布式锁
  - 大型分布式系统架构设计和调优。分布式系统架构设计：<https://zhuanlan.zhihu.com/p/159745617>
  - 分布式架构的基本理论：CAP，BASE
  - 设计模式
  - `Nginx`及负载均衡
  - 设计一个秒杀系统。链接：<https://zhuanlan.zhihu.com/p/558395137>
  - 成员查询问题 ，Bloom Filter
  - Top k频繁项
  - 消息队列；
  - 池子的设计：内存池、进程池、线程池
    - 直接从池中取得所需资源比动态分配资源的速度要快得多，因为分配系统资源的系统调用都是很耗时的。当服务器处理完一个客户连接后，可以把相关的资源放回池中，无需执行系统调用来释放资源。从最终效果来看，池相当于服务器管理系统资源的应用设施，它避免了服务器对内核的频繁访问。
  - Nacos：是一个更易于构建云原生应用的动态服务发现、配置管理和服务管理的平台；
  - 微服务
  - SOA架构：面向服务的架构（Service Oriented Architecture）它是一种设计方法，其中包含多个服务， 服务之间通过相互依赖最终提供一系列的功能；
  - ESB（企业服务总线）、微服务API网关
  - `Nginx`（一个集静态资源、负载均衡于一身的Web服务器）
  - 解释型语言、编译型语言
    - 编译型语言相对性能好一点，解释型语言跨平台性好一点；
    - 编译性语言例如c语言：用c语言开发了程序后，需要通过编译器把程序编译成机器语言（即计算机识别的二进制文件，因为不同的操作系统计算机识别的二进制文件是不同的），所以c语言程序进行移植后，要重新编译。（如windows编译成ext文件，linux编译成erp文件）。
    - 解释性语言例如java语言，java程序首先通过编译器编译成class文件，如果在windows平台上运行，则通过windows平台上的java虚拟机（VM）进行解释。如果运行在linux平台上，则通过linux平台上的java虚拟机进行解释执行。所以说能跨平台，前提是平台上必须要有相匹配的java虚拟机。如果没有java虚拟机，则不能进行跨平台。
    - 编译型语言代表有：C语言和C++。
    - 解释型语言代表有：js,php，MATLAB，java和javascript。

- 分布式
  - Hadoop：分布式系统基础架构，可以使得用户在不用了解分布式底层细节的情况下，开发分布式程序，充分利用集群的威力进行高速运算和存储。
  - HDFS：适合运行在通用硬件上的分布式文件系统，具有高容错性特点（多备份机制），并且提供高吞吐量来访问应用程序的数据（流式访问），适合那些超大数据集的应用程序；它采用了主从（Master/Slave）结构模型，一个HDFS集群是由一个NameNode和若干个DataNode组成的。其中NameNode作为主服务器，管理文件系统的命名空间和客户端对文件的访问操作；集群中的DataNode管理存储的数据；
  - Hbase：是一种分布式、可扩展、支持海量数据存储的NoSQL数据库；
  - Hive：是基于Hadoop的一个数据仓库工具，用来进行数据提取、转化、加载。是一种可以存储、查询和分析存储在Hadoop中的大规模数据的机制。它的本质其实就相当于将 HDFS 中已经存储的文件在Mysql中做了一个双射关系，以方便使用 HQL 去管理查询；
  - MapReduce：一种分布式计算框架 ，以一种可靠的，具有容错能力的方式并行地处理TB级别的海量数据集。主要用于搜索领域，解决海量数据的计算问题。
  - YARN：一种新的 Hadoop 资源管理器，它是一个通用资源管理系统，可为上层应用提供统一的资源管理和调度，它的引入为集群在利用率、资源统一管理和数据共享等方面带来了巨大好处。
  - CAP原则：一致性、可用性、分区容忍性（只能满足两个）；
  - 分布式一致性协议raft，两大核心：选主和复制日志；
  - 一致性哈希算法，保证负载均衡，可添加虚拟节点；
  - 大型网站系统架构：用户-负载均衡器-N台服务器- `redis` 缓存集群-mysql集群
    - 前端限流（例如一个用户10秒内只能点击一次，异步处理，消息队列）；
    - 负载均衡一般采用`NGINX`反向代理；
    - mysql读写分离，主库写，从库读，分库分表。
  - 分布式锁ZooKeeper：在分布式系统中，常常需要协调他们的动作。如果不同的系统或是同一个系统的不同主机之间共享了一个或一组资源，那么访问这些资源的时候，往往需要互斥来防止彼此干扰来保证一致性，在这种情况下，便需要使用到分布式锁。
  - 云服务：Docker
  - 微服务：
  - 分布式：
  - 消息队列：应用解耦,异步消息,流量削锋
  - 网络、操作系统
  - 集群

- 集群
  - 核心技术：任务调度
  - 优势：在付出较低成本的情况下获得在性能、可靠性、灵活性方面的相对较高的收益
  - 本质：是一组相互独立的、通过高速网络互联的计算机，它们构成了一个组，并以单一系统的模式加以管理。一个客户与集群相互作用时，集群像是一个独立的服务器。
  - 使用场景：提高服务的可用性和可缩放性
  - 分类：（1）科学计算：以集群开发的并行应用程序，可以解决复杂的科学问题，科学集群对外好像一个超级计算机。（2）负载均衡集群：使用特定的算法，使得应用程序处理负载或网络流量负载尽可能平均分摊处理，以实现负载均衡。（3）高可用性能集群：考虑到计算机硬件和软件的易错性，高可用性能集群的主要目的是为了使集权的服务尽可能可用。当主节点发生了故障，那么这段时间内将有次节点代替它，次节点主要是主节点的镜像。当它代替主节点时，它可以完全接管其身份，因此使系统环境对用户是一致的。

- 网链
  - 分布式：<https://baike.baidu.com/item/分布式技术/4110919>
  - MapReduce原理简介：<https://zhuanlan.zhihu.com/p/62135686>
  - Hbase简介：<https://blog.csdn.net/u012485099/article/details/110941341>
  - Hadoop百科：<https://baike.baidu.com/item/Hadoop/3526507?fr=aladdin>
  - Hive百科：<https://baike.baidu.com/item/hive/67986?fr=aladdin>
  - 建立在网络之上的软件系统：<https://baike.baidu.com/item/分布式系统/4905336>
  - 分布式：<https://zhuanlan.zhihu.com/p/140272240>
  - 链接：<https://zhuanlan.zhihu.com/p/356235333>
  - Go语言系列之RabbitMQ消息队列：<https://blog.51cto.com/u_13919520/3153035>
  - 消息队列对比详解：<https://baijiahao.baidu.com/s?id=1708572554459077699&wfr=spider&for=pc>

- 系统优化

- 高性能、高并发
  - [秒杀系统设计](https://blog.csdn.net/weixin_45953989/article/details/120016954)
  - [C10K问题及解决方案](https://cloud.tencent.com/developer/article/1031629)
  - C10k问题是优化网络套接字以同时处理大量客户端的问题；

# Linux

- IO
- 内核空间、用户空间（内核态、用户态）
  - 内核空间就是操作系统内核代码运行使用的内存空间
  - 用户空间就是用户程序代码运行使用的内存空间
  - 因为操作系统太高级，我们用户组所有的应用，是运行在操作系统之上的，一旦操作系统不能稳定运行，那就完了。而保证操作系统运行稳定的基础，就是操作系统所使用的内存不能被随意更改，所以内存被虚拟的分成了用户内存和内核内存。
- Linux基本组件：内核、shell和GUI、系统实用程序和应用程序；
- Linux开机启动过程
  1. 主机加电自检，加载BIOS硬件信息；
  2. 读取MBR的引导文件（GRUB、LILO）；（LILO：是Linux的引导加载程序，主要用于将Linux操作系统加载到主内存中，以便它可以开始运行）
  3. 引导Linux内核；
  4. 运行第一个进程init（进程号永远是1）；
  5. 进入相应的运行级别；
  6. 运行终端，输入用户名和密码；
- Linux使用的进程间通信方式
  - 管道（pipe）、流管道（s_pipe）、有名管道（FIFO）；
  - 信号（signal）；
  - 消息队列；
  - 共享内存；
  - 信号量；
  - 套接字（socket）；
- 系统日志文件
  - 比较重要的是 /var/log/messages 日志文件，该日志文件是许多进程日志的汇总，从该文件可以看出任何企图或成功的入侵；
- 交换空间：是Linux使用的一定空间，用于临时保存一些并发运行的程序。当RAM没有足够的内存来容纳正在执行的所有程序时，就会发生这种情况；
- 硬链接和软连接
- [常使用命令](https://zhuanlan.zhihu.com/p/455887180>)
- 孤儿进程，僵尸进程(父进程回收，内部引用进程没有关闭，导致孤儿进程和僵尸进程)
- 死锁条件，如何避免(互相引用会导致死锁现象发生，避免互相引用情况发生)
- 学习Linux的三步走
  1. 了解 Linux 的基本概念，会敲常用命令来应对工作。从事开发和运维岗位的同学。
  2. 能理解 Linux 尤其是其内核的设计思想，能将其思想应用到系统的架构设计中。
  3. 熟知 Linux 的使用、思想和细节，更能推陈出新，自主创造新的系统。
- 网络资源
  > 操作系统：<https://xiaolincoding.com/os>
  > 牛客网Linux专项练习：<https://www.nowcoder.com/exam/intelligent>
  > Linux自学资源：<https://github.com/0voice/linux_kernel_wiki>
  > Linux 常用命令：<https://www.runoob.com/linux/linux-command-manual.html>

# 事件驱动：`Nginx` VS `Redis`

谈到 Redis 缓存，我们描述其性能时会这么说：支持1万并发连接，几万QPS。而我们描述`Nginx`的高性能时，则会宣示：支持C10M（1千万并发连接），百万级QPS。`Nginx`用C语言开发，而 Redis 是用同一家族的C++语言开发的，C与C++在性能上是同一级数的。 Redis与 `Nginx` 同样使用了事件驱动、异步调用、Epoll这些机制，为什么`Nginx`的并发连接会高出那么多呢？这其实是由**进程架构**决定的。为了让进程占用CPU的全部计算力，`Nginx`充分利用了分时操作系统的特点，比如增加CPU时间片、提高CPU二级缓存命中率、用异步IO和线程池的方式回避磁盘的阻塞读操作等等，只有清楚了`Nginx`的这些招数，你才能将`Nginx`的性能最大化发挥出来。材料、散热这些基础科技没有获得重大突破前，CPU频率很难增长，类似 `Redis` 、NodeJS这样的单进程、单线程高并发服务，只能向分布式集群方向发展，才能继续提升性能。`Nginx`通过Master/Worker多进程架构，可以充分使用服务器上百个CPU核心，实现C10M。为了榨干多核CPU的价值，`Nginx`无所不用其极：通过绑定CPU提升二级缓存的命中率，通过静态优先级扩大时间片，通过多种手段均衡Worker进程之间的负载，在独立线程池中隔离阻塞的IO操作，等等。可见，高性能既来自于架构，更来自于细节。

## 事件驱动 | 异步调用 | `Epoll`

# Etcd-服务发现

[etcd](https://etcd.io/)（读作 et-see-dee）是一种[开源的](https://www.redhat.com/zh/topics/open-source/what-is-open-source)分布式统一键值存储，用于分布式系统或计算机集群的共享配置、服务发现和的调度协调。etcd 有助于促进更加安全的自动更新，协调向主机调度的工作，并帮助设置[容器](https://www.redhat.com/zh/topics/containers/whats-a-linux-container)的覆盖网络。

etcd 是许多其他项目的核心组件。最值得注意的是，它是 [Kubernetes](https://www.redhat.com/zh/topics/containers/what-is-kubernetes) 的首要数据存储，也是[容器编排](https://www.redhat.com/zh/topics/containers/what-is-container-orchestration)的实际标准系统。使用 etcd， [云原生应用](https://www.redhat.com/zh/topics/cloud-native-apps)可以保持更为一致的运行时间，而且在个别服务器发生故障时也能正常工作。应用从 etcd 读取数据并写入到其中；通过分散配置数据，为节点配置提供冗余和弹性。

服务发现（Service discovery）是自动检测一个[计算机网络](https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C "计算机网络")内的设备及其提供的服务。服务发现议定(service discovery protocol)帮助发现服务的[网络传输协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE "网络传输协议")。服务发现的目的在于为用户自行配置而减负。服务发现通常需要一个共同的语言, 帮助用户通过软件代理器（software agents）调用另一个服务, 而不需要用户自行调用。

# 白盒测试、黑盒测试

- 白盒测试：也称为结构测试，主要用于检测软件编码过程中的错误。程序员的编程经验、对编程软件的掌握程度、工作状态等因素都会影响到编程质量，导致代码错误。
- 黑盒测试：又称为功能测试，主要检测软件的每一个功能是否能够正常使用。在测试过程中，将程序看成不能打开的黑盒子，不考虑程序内部结构和特性的基础上通过程序接口进行测试，检查程序功能是否按照设计需求以及说明书的规定能够正常打开使用。

- 同源策略（Same Orgin Policy）、跨域资源共享（Cross-origin resource sharing，CORS）
- 首先一个url是由：协议（protocol）、主机（host）和端口号（port）三部分组成。（一般端口默认80），如：`https://blog.moonlet.cn:80`，当一个请求url的协议、域名、端口三者之间的任意一个与当前页面url不同即为跨域，三者相同即为同源。
- 同源策略：它是一种约定，它是浏览器核心也最基本的安全功能，它会阻止一个域的js脚本和另外一个域的内容进行交互，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。
- 跨域资源共享：用于让网页的受限资源能够被其他域名的页面访问的一种机制，通过该机制，页面能够自由地使用不同源（cross-origin）的图片、样式、脚本、iframes以及视频。一些跨域的请求（特别是Ajax）常常会被同源策略（Same-origin policy）所禁止的。跨源资源共享定义了一种方式，为的是浏览器和服务器之间能互相确认是否足够安全以至于能使用跨源请求（cross-origin requests）。比起纯粹的同源请求，这将更为自由和功能性的（functionality），但比纯粹的跨源请求更为安全。跨域资源共享是一份浏览器技术的规范，提供了 Web 服务从不同网域传来沙盒("沙盒 (电脑安全)")脚本的方法，以避开浏览器的同源策略。

# 项目规范、代码格式化

- 命名规范，包括常量、变量、方法命、文件名、文件夹……（驼峰、蛇形）
- 代码格式：缩进、空格、空行、注释
- 错误处理：打印、写入文档、统一规范处理
- 安全、循环引用、导入、全局、私有、临时

[Google](https://www.google.com/ "这是鼠标悬浮文案")

[Uber开源的《Go语言编码规范》](https://github.com/xxjwxc/uber_go_guide_cn/ "Uber 开源的《Go 语言编码规范》")

# 数据结构及算法

- 常见数据结构（data structure）
  - 栈（Stack）：栈是一种特殊的线性表，它只能在一个表的一个固定端进行数据结点的插入和删除操作。
  - 队列（Queue）：队列和栈类似，也是一种特殊的线性表。和栈不同的是，队列只允许在表的一端进行插入操作，而在另一端进行删除操作。
  - 数组（Array）：数组是一种聚合数据类型，它是将具有相同类型的若干变量有序地组织在一起的集合。
  - 链表（Linked List）：链表是一种数据元素按照链式存储结构进行存储的数据结构，这种存储结构具有在物理上存在非连续的特点。
  - 树（Tree）：树是典型的非线性结构，它是包括，2 个结点的有穷集合 K。
  - 图（Graph）：图是另一种非线性数据结构。在图结构中，数据结点一般称为顶点，而边是顶点的有序偶对。
  - 堆（Heap）：堆是一种特殊的树形数据结构，一般讨论的堆都是二叉堆。
  - 散列表（Hash table）：散列表源自于散列函数(Hash function)，其思想是如果在结构中存在关键字和T相等的记录，那么必定在F(T)的存储位置可以找到该记录，这样就可以不用进行比较操作而直接取得所查记录。

- 常见算法

  - 数据结构研究的内容：就是如何按一定的逻辑结构，把数据组织起来，并选择适当的存储表示方法把逻辑结构组织好的数据存储到计算机的存储器里。算法研究的目的是为了更有效的处理数据，提高数据运算效率。数据的运算是定义在数据的逻辑结构上，但运算的具体实现要在存储结构上进行。一般有以下几种常用运算：

  - 检索：检索就是在数据结构里查找满足一定条件的节点。一般是给定一个某字段的值，找具有该字段值的节点。
  - 插入：往数据结构中增加新的节点。
  - 删除：把指定的结点从数据结构中去掉。
  - 更新：改变指定节点的一个或多个字段的值。
  - 排序：把节点按某种指定的顺序重新排列。例如递增或递减。

  - 链接：<https://cloud.tencent.com/developer/article/1404952>

# Web性能优化

1、DNS查询优化
2、客户端缓存
3、优化TCP连接
4、避免重定向
5、网络边缘的缓存
6、条件缓存
7、压缩和代码极简化
8、图片优化
